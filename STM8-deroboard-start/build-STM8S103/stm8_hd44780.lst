                                      1 .module stm8_hd44780
                                      2 .optsdcc -mstm8
                                      3 .globl _GPIO_ReadInputPin
                                      4 .globl _GPIO_WriteLow
                                      5 .globl _GPIO_WriteHigh
                                      6 .globl _GPIO_Init
                                      7 .globl _lcd_puts
                                      8 .globl _lcd_init
                                      9 .globl _lcd_gotoxy
                                     10 .globl _lcd_init_hw
                                     11 .globl _lcd_bus_outputs
                                     12 .globl _lcd_bus_inputs
                                     13 .globl _lcd_bus_set
                                     14 .globl _lcd_bus_read
                                     15 .globl _lcd_e_tick
                                     16 .globl _lcd_command
                                     17 .globl _lcd_data
                                     18 .globl _lcd_read
                                     19 .globl _lcd_busy_wait
                                     20 .area DATA
                                     21 .area INITIALIZED
                                     22 .area DABS (ABS)
                                     23 .area HOME
                                     24 .area GSINIT
                                     25 .area GSFINAL
                                     26 .area CONST
                                     27 .area INITIALIZER
                                     28 .area CODE
                                     29 .area HOME
                                     30 .area GSINIT
                                     31 .area GSFINAL
                                     32 .area GSINIT
                                     33 .area HOME
                                     34 .area HOME
                                     35 .area CODE
      000000                         36 __delay_cycl:
      000000 9D               [ 1]   37 nop
      000001 9D               [ 1]   38 nop
      000002 1E 03            [ 2]   39 ldw	x, (0x03, sp)
      000004                         40 00101$:
      000004 5A               [ 2]   41 decw	x
      000005 5D               [ 2]   42 tnzw	x
      000006 27 03            [ 1]   43 jreq	00117$
      000008 CCr00r04         [ 2]   44 jp	00101$
      00000B                         45 00117$:
      00000B 9D               [ 1]   46 nop
      00000C                         47 00104$:
      00000C 81               [ 4]   48 ret
      00000D                         49 __delay_us:
      00000D 16 03            [ 2]   50 ldw	y, (0x03, sp)
      00000F 5F               [ 1]   51 clrw	x
      000010 90 89            [ 2]   52 pushw	y
      000012 89               [ 2]   53 pushw	x
      000013 4B 00            [ 1]   54 push	#0x00
      000015 4B 24            [ 1]   55 push	#0x24
      000017 4B F4            [ 1]   56 push	#0xf4
      000019 4B 00            [ 1]   57 push	#0x00
      00001B CDr00r00         [ 4]   58 call	__mullong
      00001E 5B 08            [ 2]   59 addw	sp, #8
      000020 4B 40            [ 1]   60 push	#0x40
      000022 4B 42            [ 1]   61 push	#0x42
      000024 4B 0F            [ 1]   62 push	#0x0f
      000026 4B 00            [ 1]   63 push	#0x00
      000028 89               [ 2]   64 pushw	x
      000029 90 89            [ 2]   65 pushw	y
      00002B CDr00r00         [ 4]   66 call	__divulong
      00002E 5B 08            [ 2]   67 addw	sp, #8
      000030 90 54            [ 2]   68 srlw	y
      000032 56               [ 2]   69 rrcw	x
      000033 90 54            [ 2]   70 srlw	y
      000035 56               [ 2]   71 rrcw	x
      000036 90 54            [ 2]   72 srlw	y
      000038 56               [ 2]   73 rrcw	x
      000039 5C               [ 1]   74 incw	x
      00003A 51               [ 1]   75 exgw	x, y
      00003B 9D               [ 1]   76 nop
      00003C 9D               [ 1]   77 nop
      00003D                         78 00101$:
      00003D 93               [ 1]   79 ldw	x, y
      00003E 5A               [ 2]   80 decw	x
      00003F 90 93            [ 1]   81 ldw	y, x
      000041 5D               [ 2]   82 tnzw	x
      000042 27 03            [ 1]   83 jreq	00117$
      000044 CCr00r3D         [ 2]   84 jp	00101$
      000047                         85 00117$:
      000047 9D               [ 1]   86 nop
      000048                         87 00105$:
      000048 81               [ 4]   88 ret
      000049                         89 _lcd_puts:
      000049 1E 03            [ 2]   90 ldw	x, (0x03, sp)
      00004B                         91 00101$:
      00004B F6               [ 1]   92 ld	a, (x)
      00004C 4D               [ 1]   93 tnz	a
      00004D 26 03            [ 1]   94 jrne	00117$
      00004F CCr00r5D         [ 2]   95 jp	00104$
      000052                         96 00117$:
      000052 89               [ 2]   97 pushw	x
      000053 88               [ 1]   98 push	a
      000054 CDr03r17         [ 4]   99 call	_lcd_data
      000057 84               [ 1]  100 pop	a
      000058 85               [ 2]  101 popw	x
      000059 5C               [ 1]  102 incw	x
      00005A CCr00r4B         [ 2]  103 jp	00101$
      00005D                        104 00104$:
      00005D 81               [ 4]  105 ret
      00005E                        106 _lcd_init:
      00005E CDr01r23         [ 4]  107 call	_lcd_init_hw
      000061 CDr01r4E         [ 4]  108 call	_lcd_bus_outputs
      000064 90 AE 01 D9      [ 2]  109 ldw	y, #0x01d9
      000068 9D               [ 1]  110 nop
      000069 9D               [ 1]  111 nop
      00006A                        112 00101$:
      00006A 93               [ 1]  113 ldw	x, y
      00006B 5A               [ 2]  114 decw	x
      00006C 90 93            [ 1]  115 ldw	y, x
      00006E 5D               [ 2]  116 tnzw	x
      00006F 27 03            [ 1]  117 jreq	00163$
      000071 CCr00r6A         [ 2]  118 jp	00101$
      000074                        119 00163$:
      000074 9D               [ 1]  120 nop
      000075 4B 03            [ 1]  121 push	#0x03
      000077 CDr01rB8         [ 4]  122 call	_lcd_bus_set
      00007A 84               [ 1]  123 pop	a
      00007B CDr02rA3         [ 4]  124 call	_lcd_e_tick
      00007E 90 AE 00 93      [ 2]  125 ldw	y, #0x0093
      000082 9D               [ 1]  126 nop
      000083 9D               [ 1]  127 nop
      000084                        128 00106$:
      000084 93               [ 1]  129 ldw	x, y
      000085 5A               [ 2]  130 decw	x
      000086 90 93            [ 1]  131 ldw	y, x
      000088 5D               [ 2]  132 tnzw	x
      000089 27 03            [ 1]  133 jreq	00164$
      00008B CCr00r84         [ 2]  134 jp	00106$
      00008E                        135 00164$:
      00008E 9D               [ 1]  136 nop
      00008F 4B 03            [ 1]  137 push	#0x03
      000091 CDr01rB8         [ 4]  138 call	_lcd_bus_set
      000094 84               [ 1]  139 pop	a
      000095 CDr02rA3         [ 4]  140 call	_lcd_e_tick
      000098 90 AE 00 C9      [ 2]  141 ldw	y, #0x00c9
      00009C 9D               [ 1]  142 nop
      00009D 9D               [ 1]  143 nop
      00009E                        144 00111$:
      00009E 93               [ 1]  145 ldw	x, y
      00009F 5A               [ 2]  146 decw	x
      0000A0 90 93            [ 1]  147 ldw	y, x
      0000A2 5D               [ 2]  148 tnzw	x
      0000A3 27 03            [ 1]  149 jreq	00165$
      0000A5 CCr00r9E         [ 2]  150 jp	00111$
      0000A8                        151 00165$:
      0000A8 9D               [ 1]  152 nop
      0000A9 4B 03            [ 1]  153 push	#0x03
      0000AB CDr01rB8         [ 4]  154 call	_lcd_bus_set
      0000AE 84               [ 1]  155 pop	a
      0000AF CDr02rA3         [ 4]  156 call	_lcd_e_tick
      0000B2 4B 02            [ 1]  157 push	#0x02
      0000B4 CDr01rB8         [ 4]  158 call	_lcd_bus_set
      0000B7 84               [ 1]  159 pop	a
      0000B8 CDr02rA3         [ 4]  160 call	_lcd_e_tick
      0000BB 90 AE 00 51      [ 2]  161 ldw	y, #0x0051
      0000BF 9D               [ 1]  162 nop
      0000C0 9D               [ 1]  163 nop
      0000C1                        164 00116$:
      0000C1 93               [ 1]  165 ldw	x, y
      0000C2 5A               [ 2]  166 decw	x
      0000C3 90 93            [ 1]  167 ldw	y, x
      0000C5 5D               [ 2]  168 tnzw	x
      0000C6 27 03            [ 1]  169 jreq	00166$
      0000C8 CCr00rC1         [ 2]  170 jp	00116$
      0000CB                        171 00166$:
      0000CB 9D               [ 1]  172 nop
      0000CC 4B 28            [ 1]  173 push	#0x28
      0000CE CDr02rDC         [ 4]  174 call	_lcd_command
      0000D1 84               [ 1]  175 pop	a
      0000D2 4B 06            [ 1]  176 push	#0x06
      0000D4 CDr02rDC         [ 4]  177 call	_lcd_command
      0000D7 84               [ 1]  178 pop	a
      0000D8 4B 0C            [ 1]  179 push	#0x0c
      0000DA CDr02rDC         [ 4]  180 call	_lcd_command
      0000DD 84               [ 1]  181 pop	a
      0000DE 4B 14            [ 1]  182 push	#0x14
      0000E0 CDr02rDC         [ 4]  183 call	_lcd_command
      0000E3 84               [ 1]  184 pop	a
      0000E4 4B 01            [ 1]  185 push	#0x01
      0000E6 CDr02rDC         [ 4]  186 call	_lcd_command
      0000E9 84               [ 1]  187 pop	a
      0000EA 4B 02            [ 1]  188 push	#0x02
      0000EC CDr02rDC         [ 4]  189 call	_lcd_command
      0000EF 84               [ 1]  190 pop	a
      0000F0                        191 00121$:
      0000F0 81               [ 4]  192 ret
      0000F1                        193 _lcd_gotoxy:
      0000F1 5F               [ 1]  194 clrw	x
      0000F2 7B 03            [ 1]  195 ld	a, (0x03, sp)
      0000F4 A1 0F            [ 1]  196 cp	a, #0x0f
      0000F6 22 03            [ 1]  197 jrugt	00125$
      0000F8 CCr00rFF         [ 2]  198 jp	00102$
      0000FB                        199 00125$:
      0000FB A6 0F            [ 1]  200 ld	a, #0x0f
      0000FD 6B 03            [ 1]  201 ld	(0x03, sp), a
      0000FF                        202 00102$:
      0000FF 0D 04            [ 1]  203 tnz	(0x04, sp)
      000101 27 03            [ 1]  204 jreq	00126$
      000103 CCr01r0A         [ 2]  205 jp	00106$
      000106                        206 00126$:
      000106 5F               [ 1]  207 clrw	x
      000107 CCr01r18         [ 2]  208 jp	00107$
      00010A                        209 00106$:
      00010A 7B 04            [ 1]  210 ld	a, (0x04, sp)
      00010C 4A               [ 1]  211 dec	a
      00010D 26 03            [ 1]  212 jrne	00128$
      00010F CCr01r15         [ 2]  213 jp	00129$
      000112                        214 00128$:
      000112 CCr01r18         [ 2]  215 jp	00107$
      000115                        216 00129$:
      000115 A6 40            [ 1]  217 ld	a, #0x40
      000117 97               [ 1]  218 ld	xl, a
      000118                        219 00107$:
      000118 9F               [ 1]  220 ld	a, xl
      000119 1B 03            [ 1]  221 add	a, (0x03, sp)
      00011B AA 80            [ 1]  222 or	a, #0x80
      00011D 88               [ 1]  223 push	a
      00011E CDr02rDC         [ 4]  224 call	_lcd_command
      000121 84               [ 1]  225 pop	a
      000122                        226 00108$:
      000122 81               [ 4]  227 ret
      000123                        228 _lcd_init_hw:
      000123 4B C0            [ 1]  229 push	#0xc0
      000125 4B 10            [ 1]  230 push	#0x10
      000127 4B 0F            [ 1]  231 push	#0x0f
      000129 4B 50            [ 1]  232 push	#0x50
      00012B CDr00r00         [ 4]  233 call	_GPIO_Init
      00012E 5B 04            [ 2]  234 addw	sp, #4
      000130 4B C0            [ 1]  235 push	#0xc0
      000132 4B 20            [ 1]  236 push	#0x20
      000134 4B 0F            [ 1]  237 push	#0x0f
      000136 4B 50            [ 1]  238 push	#0x50
      000138 CDr00r00         [ 4]  239 call	_GPIO_Init
      00013B 5B 04            [ 2]  240 addw	sp, #4
      00013D 4B D0            [ 1]  241 push	#0xd0
      00013F 4B 40            [ 1]  242 push	#0x40
      000141 4B 0F            [ 1]  243 push	#0x0f
      000143 4B 50            [ 1]  244 push	#0x50
      000145 CDr00r00         [ 4]  245 call	_GPIO_Init
      000148 5B 04            [ 2]  246 addw	sp, #4
      00014A CCr01r4E         [ 2]  247 jp	_lcd_bus_outputs
      00014D                        248 00101$:
      00014D 81               [ 4]  249 ret
      00014E                        250 _lcd_bus_outputs:
      00014E 4B C0            [ 1]  251 push	#0xc0
      000150 4B 10            [ 1]  252 push	#0x10
      000152 4B 0A            [ 1]  253 push	#0x0a
      000154 4B 50            [ 1]  254 push	#0x50
      000156 CDr00r00         [ 4]  255 call	_GPIO_Init
      000159 5B 04            [ 2]  256 addw	sp, #4
      00015B 4B C0            [ 1]  257 push	#0xc0
      00015D 4B 20            [ 1]  258 push	#0x20
      00015F 4B 0A            [ 1]  259 push	#0x0a
      000161 4B 50            [ 1]  260 push	#0x50
      000163 CDr00r00         [ 4]  261 call	_GPIO_Init
      000166 5B 04            [ 2]  262 addw	sp, #4
      000168 4B C0            [ 1]  263 push	#0xc0
      00016A 4B 40            [ 1]  264 push	#0x40
      00016C 4B 0A            [ 1]  265 push	#0x0a
      00016E 4B 50            [ 1]  266 push	#0x50
      000170 CDr00r00         [ 4]  267 call	_GPIO_Init
      000173 5B 04            [ 2]  268 addw	sp, #4
      000175 4B C0            [ 1]  269 push	#0xc0
      000177 4B 80            [ 1]  270 push	#0x80
      000179 4B 0A            [ 1]  271 push	#0x0a
      00017B 4B 50            [ 1]  272 push	#0x50
      00017D CDr00r00         [ 4]  273 call	_GPIO_Init
      000180 5B 04            [ 2]  274 addw	sp, #4
      000182                        275 00101$:
      000182 81               [ 4]  276 ret
      000183                        277 _lcd_bus_inputs:
      000183 4B 00            [ 1]  278 push	#0x00
      000185 4B 10            [ 1]  279 push	#0x10
      000187 4B 0A            [ 1]  280 push	#0x0a
      000189 4B 50            [ 1]  281 push	#0x50
      00018B CDr00r00         [ 4]  282 call	_GPIO_Init
      00018E 5B 04            [ 2]  283 addw	sp, #4
      000190 4B 00            [ 1]  284 push	#0x00
      000192 4B 20            [ 1]  285 push	#0x20
      000194 4B 0A            [ 1]  286 push	#0x0a
      000196 4B 50            [ 1]  287 push	#0x50
      000198 CDr00r00         [ 4]  288 call	_GPIO_Init
      00019B 5B 04            [ 2]  289 addw	sp, #4
      00019D 4B 00            [ 1]  290 push	#0x00
      00019F 4B 40            [ 1]  291 push	#0x40
      0001A1 4B 0A            [ 1]  292 push	#0x0a
      0001A3 4B 50            [ 1]  293 push	#0x50
      0001A5 CDr00r00         [ 4]  294 call	_GPIO_Init
      0001A8 5B 04            [ 2]  295 addw	sp, #4
      0001AA 4B 00            [ 1]  296 push	#0x00
      0001AC 4B 80            [ 1]  297 push	#0x80
      0001AE 4B 0A            [ 1]  298 push	#0x0a
      0001B0 4B 50            [ 1]  299 push	#0x50
      0001B2 CDr00r00         [ 4]  300 call	_GPIO_Init
      0001B5 5B 04            [ 2]  301 addw	sp, #4
      0001B7                        302 00101$:
      0001B7 81               [ 4]  303 ret
      0001B8                        304 _lcd_bus_set:
      0001B8 7B 03            [ 1]  305 ld	a, (0x03, sp)
      0001BA 44               [ 1]  306 srl	a
      0001BB 25 03            [ 1]  307 jrc	00135$
      0001BD CCr01rCE         [ 2]  308 jp	00102$
      0001C0                        309 00135$:
      0001C0 4B 10            [ 1]  310 push	#0x10
      0001C2 4B 0A            [ 1]  311 push	#0x0a
      0001C4 4B 50            [ 1]  312 push	#0x50
      0001C6 CDr00r00         [ 4]  313 call	_GPIO_WriteHigh
      0001C9 5B 03            [ 2]  314 addw	sp, #3
      0001CB CCr01rD9         [ 2]  315 jp	00103$
      0001CE                        316 00102$:
      0001CE 4B 10            [ 1]  317 push	#0x10
      0001D0 4B 0A            [ 1]  318 push	#0x0a
      0001D2 4B 50            [ 1]  319 push	#0x50
      0001D4 CDr00r00         [ 4]  320 call	_GPIO_WriteLow
      0001D7 5B 03            [ 2]  321 addw	sp, #3
      0001D9                        322 00103$:
      0001D9 7B 03            [ 1]  323 ld	a, (0x03, sp)
      0001DB A5 02            [ 1]  324 bcp	a, #0x02
      0001DD 26 03            [ 1]  325 jrne	00136$
      0001DF CCr01rF0         [ 2]  326 jp	00105$
      0001E2                        327 00136$:
      0001E2 4B 20            [ 1]  328 push	#0x20
      0001E4 4B 0A            [ 1]  329 push	#0x0a
      0001E6 4B 50            [ 1]  330 push	#0x50
      0001E8 CDr00r00         [ 4]  331 call	_GPIO_WriteHigh
      0001EB 5B 03            [ 2]  332 addw	sp, #3
      0001ED CCr01rFB         [ 2]  333 jp	00106$
      0001F0                        334 00105$:
      0001F0 4B 20            [ 1]  335 push	#0x20
      0001F2 4B 0A            [ 1]  336 push	#0x0a
      0001F4 4B 50            [ 1]  337 push	#0x50
      0001F6 CDr00r00         [ 4]  338 call	_GPIO_WriteLow
      0001F9 5B 03            [ 2]  339 addw	sp, #3
      0001FB                        340 00106$:
      0001FB 7B 03            [ 1]  341 ld	a, (0x03, sp)
      0001FD A5 04            [ 1]  342 bcp	a, #0x04
      0001FF 26 03            [ 1]  343 jrne	00137$
      000201 CCr02r12         [ 2]  344 jp	00108$
      000204                        345 00137$:
      000204 4B 40            [ 1]  346 push	#0x40
      000206 4B 0A            [ 1]  347 push	#0x0a
      000208 4B 50            [ 1]  348 push	#0x50
      00020A CDr00r00         [ 4]  349 call	_GPIO_WriteHigh
      00020D 5B 03            [ 2]  350 addw	sp, #3
      00020F CCr02r1D         [ 2]  351 jp	00109$
      000212                        352 00108$:
      000212 4B 40            [ 1]  353 push	#0x40
      000214 4B 0A            [ 1]  354 push	#0x0a
      000216 4B 50            [ 1]  355 push	#0x50
      000218 CDr00r00         [ 4]  356 call	_GPIO_WriteLow
      00021B 5B 03            [ 2]  357 addw	sp, #3
      00021D                        358 00109$:
      00021D 7B 03            [ 1]  359 ld	a, (0x03, sp)
      00021F A5 08            [ 1]  360 bcp	a, #0x08
      000221 26 03            [ 1]  361 jrne	00138$
      000223 CCr02r34         [ 2]  362 jp	00111$
      000226                        363 00138$:
      000226 4B 80            [ 1]  364 push	#0x80
      000228 4B 0A            [ 1]  365 push	#0x0a
      00022A 4B 50            [ 1]  366 push	#0x50
      00022C CDr00r00         [ 4]  367 call	_GPIO_WriteHigh
      00022F 5B 03            [ 2]  368 addw	sp, #3
      000231 CCr02r3F         [ 2]  369 jp	00113$
      000234                        370 00111$:
      000234 4B 80            [ 1]  371 push	#0x80
      000236 4B 0A            [ 1]  372 push	#0x0a
      000238 4B 50            [ 1]  373 push	#0x50
      00023A CDr00r00         [ 4]  374 call	_GPIO_WriteLow
      00023D 5B 03            [ 2]  375 addw	sp, #3
      00023F                        376 00113$:
      00023F 81               [ 4]  377 ret
      000240                        378 _lcd_bus_read:
      000240 88               [ 1]  379 push	a
      000241 0F 01            [ 1]  380 clr	(0x01, sp)
      000243 4B 10            [ 1]  381 push	#0x10
      000245 4B 0A            [ 1]  382 push	#0x0a
      000247 4B 50            [ 1]  383 push	#0x50
      000249 CDr00r00         [ 4]  384 call	_GPIO_ReadInputPin
      00024C 5B 03            [ 2]  385 addw	sp, #3
      00024E 4D               [ 1]  386 tnz	a
      00024F 26 03            [ 1]  387 jrne	00131$
      000251 CCr02r59         [ 2]  388 jp	00102$
      000254                        389 00131$:
      000254 04 01            [ 1]  390 srl	(0x01, sp)
      000256 99               [ 1]  391 scf
      000257 09 01            [ 1]  392 rlc	(0x01, sp)
      000259                        393 00102$:
      000259 4B 20            [ 1]  394 push	#0x20
      00025B 4B 0A            [ 1]  395 push	#0x0a
      00025D 4B 50            [ 1]  396 push	#0x50
      00025F CDr00r00         [ 4]  397 call	_GPIO_ReadInputPin
      000262 5B 03            [ 2]  398 addw	sp, #3
      000264 4D               [ 1]  399 tnz	a
      000265 26 03            [ 1]  400 jrne	00132$
      000267 CCr02r70         [ 2]  401 jp	00104$
      00026A                        402 00132$:
      00026A 7B 01            [ 1]  403 ld	a, (0x01, sp)
      00026C AA 02            [ 1]  404 or	a, #0x02
      00026E 6B 01            [ 1]  405 ld	(0x01, sp), a
      000270                        406 00104$:
      000270 4B 40            [ 1]  407 push	#0x40
      000272 4B 0A            [ 1]  408 push	#0x0a
      000274 4B 50            [ 1]  409 push	#0x50
      000276 CDr00r00         [ 4]  410 call	_GPIO_ReadInputPin
      000279 5B 03            [ 2]  411 addw	sp, #3
      00027B 4D               [ 1]  412 tnz	a
      00027C 26 03            [ 1]  413 jrne	00133$
      00027E CCr02r87         [ 2]  414 jp	00106$
      000281                        415 00133$:
      000281 7B 01            [ 1]  416 ld	a, (0x01, sp)
      000283 AA 04            [ 1]  417 or	a, #0x04
      000285 6B 01            [ 1]  418 ld	(0x01, sp), a
      000287                        419 00106$:
      000287 4B 80            [ 1]  420 push	#0x80
      000289 4B 0A            [ 1]  421 push	#0x0a
      00028B 4B 50            [ 1]  422 push	#0x50
      00028D CDr00r00         [ 4]  423 call	_GPIO_ReadInputPin
      000290 5B 03            [ 2]  424 addw	sp, #3
      000292 4D               [ 1]  425 tnz	a
      000293 26 03            [ 1]  426 jrne	00134$
      000295 CCr02r9E         [ 2]  427 jp	00108$
      000298                        428 00134$:
      000298 7B 01            [ 1]  429 ld	a, (0x01, sp)
      00029A AA 08            [ 1]  430 or	a, #0x08
      00029C 6B 01            [ 1]  431 ld	(0x01, sp), a
      00029E                        432 00108$:
      00029E 7B 01            [ 1]  433 ld	a, (0x01, sp)
      0002A0                        434 00109$:
      0002A0 5B 01            [ 2]  435 addw	sp, #1
      0002A2 81               [ 4]  436 ret
      0002A3                        437 _lcd_e_tick:
      0002A3 4B 40            [ 1]  438 push	#0x40
      0002A5 4B 0F            [ 1]  439 push	#0x0f
      0002A7 4B 50            [ 1]  440 push	#0x50
      0002A9 CDr00r00         [ 4]  441 call	_GPIO_WriteHigh
      0002AC 5B 03            [ 2]  442 addw	sp, #3
      0002AE 90 AE 00 03      [ 2]  443 ldw	y, #0x0003
      0002B2 9D               [ 1]  444 nop
      0002B3 9D               [ 1]  445 nop
      0002B4                        446 00101$:
      0002B4 93               [ 1]  447 ldw	x, y
      0002B5 5A               [ 2]  448 decw	x
      0002B6 90 93            [ 1]  449 ldw	y, x
      0002B8 5D               [ 2]  450 tnzw	x
      0002B9 27 03            [ 1]  451 jreq	00133$
      0002BB CCr02rB4         [ 2]  452 jp	00101$
      0002BE                        453 00133$:
      0002BE 9D               [ 1]  454 nop
      0002BF 4B 40            [ 1]  455 push	#0x40
      0002C1 4B 0F            [ 1]  456 push	#0x0f
      0002C3 4B 50            [ 1]  457 push	#0x50
      0002C5 CDr00r00         [ 4]  458 call	_GPIO_WriteLow
      0002C8 5B 03            [ 2]  459 addw	sp, #3
      0002CA 90 AE 00 03      [ 2]  460 ldw	y, #0x0003
      0002CE 9D               [ 1]  461 nop
      0002CF 9D               [ 1]  462 nop
      0002D0                        463 00106$:
      0002D0 93               [ 1]  464 ldw	x, y
      0002D1 5A               [ 2]  465 decw	x
      0002D2 90 93            [ 1]  466 ldw	y, x
      0002D4 5D               [ 2]  467 tnzw	x
      0002D5 27 03            [ 1]  468 jreq	00134$
      0002D7 CCr02rD0         [ 2]  469 jp	00106$
      0002DA                        470 00134$:
      0002DA 9D               [ 1]  471 nop
      0002DB                        472 00111$:
      0002DB 81               [ 4]  473 ret
      0002DC                        474 _lcd_command:
      0002DC 4B 10            [ 1]  475 push	#0x10
      0002DE 4B 0F            [ 1]  476 push	#0x0f
      0002E0 4B 50            [ 1]  477 push	#0x50
      0002E2 CDr00r00         [ 4]  478 call	_GPIO_WriteLow
      0002E5 5B 03            [ 2]  479 addw	sp, #3
      0002E7 90 AE 00 03      [ 2]  480 ldw	y, #0x0003
      0002EB 9D               [ 1]  481 nop
      0002EC 9D               [ 1]  482 nop
      0002ED                        483 00101$:
      0002ED 93               [ 1]  484 ldw	x, y
      0002EE 5A               [ 2]  485 decw	x
      0002EF 90 93            [ 1]  486 ldw	y, x
      0002F1 5D               [ 2]  487 tnzw	x
      0002F2 27 03            [ 1]  488 jreq	00118$
      0002F4 CCr02rED         [ 2]  489 jp	00101$
      0002F7                        490 00118$:
      0002F7 9D               [ 1]  491 nop
      0002F8 7B 03            [ 1]  492 ld	a, (0x03, sp)
      0002FA 4E               [ 1]  493 swap	a
      0002FB A4 0F            [ 1]  494 and	a, #0x0f
      0002FD A4 0F            [ 1]  495 and	a, #0x0f
      0002FF 88               [ 1]  496 push	a
      000300 CDr01rB8         [ 4]  497 call	_lcd_bus_set
      000303 84               [ 1]  498 pop	a
      000304 CDr02rA3         [ 4]  499 call	_lcd_e_tick
      000307 7B 03            [ 1]  500 ld	a, (0x03, sp)
      000309 A4 0F            [ 1]  501 and	a, #0x0f
      00030B 88               [ 1]  502 push	a
      00030C CDr01rB8         [ 4]  503 call	_lcd_bus_set
      00030F 84               [ 1]  504 pop	a
      000310 CDr02rA3         [ 4]  505 call	_lcd_e_tick
      000313 CCr04r0F         [ 2]  506 jp	_lcd_busy_wait
      000316                        507 00106$:
      000316 81               [ 4]  508 ret
      000317                        509 _lcd_data:
      000317 4B 10            [ 1]  510 push	#0x10
      000319 4B 0F            [ 1]  511 push	#0x0f
      00031B 4B 50            [ 1]  512 push	#0x50
      00031D CDr00r00         [ 4]  513 call	_GPIO_WriteHigh
      000320 5B 03            [ 2]  514 addw	sp, #3
      000322 90 AE 00 03      [ 2]  515 ldw	y, #0x0003
      000326 9D               [ 1]  516 nop
      000327 9D               [ 1]  517 nop
      000328                        518 00101$:
      000328 93               [ 1]  519 ldw	x, y
      000329 5A               [ 2]  520 decw	x
      00032A 90 93            [ 1]  521 ldw	y, x
      00032C 5D               [ 2]  522 tnzw	x
      00032D 27 03            [ 1]  523 jreq	00118$
      00032F CCr03r28         [ 2]  524 jp	00101$
      000332                        525 00118$:
      000332 9D               [ 1]  526 nop
      000333 7B 03            [ 1]  527 ld	a, (0x03, sp)
      000335 4E               [ 1]  528 swap	a
      000336 A4 0F            [ 1]  529 and	a, #0x0f
      000338 A4 0F            [ 1]  530 and	a, #0x0f
      00033A 88               [ 1]  531 push	a
      00033B CDr01rB8         [ 4]  532 call	_lcd_bus_set
      00033E 84               [ 1]  533 pop	a
      00033F CDr02rA3         [ 4]  534 call	_lcd_e_tick
      000342 7B 03            [ 1]  535 ld	a, (0x03, sp)
      000344 A4 0F            [ 1]  536 and	a, #0x0f
      000346 88               [ 1]  537 push	a
      000347 CDr01rB8         [ 4]  538 call	_lcd_bus_set
      00034A 84               [ 1]  539 pop	a
      00034B CDr02rA3         [ 4]  540 call	_lcd_e_tick
      00034E CCr04r0F         [ 2]  541 jp	_lcd_busy_wait
      000351                        542 00106$:
      000351 81               [ 4]  543 ret
      000352                        544 _lcd_read:
      000352 88               [ 1]  545 push	a
      000353 4B 10            [ 1]  546 push	#0x10
      000355 4B 0F            [ 1]  547 push	#0x0f
      000357 4B 50            [ 1]  548 push	#0x50
      000359 CDr00r00         [ 4]  549 call	_GPIO_WriteLow
      00035C 5B 03            [ 2]  550 addw	sp, #3
      00035E CDr01r83         [ 4]  551 call	_lcd_bus_inputs
      000361 4B 20            [ 1]  552 push	#0x20
      000363 4B 0F            [ 1]  553 push	#0x0f
      000365 4B 50            [ 1]  554 push	#0x50
      000367 CDr00r00         [ 4]  555 call	_GPIO_WriteHigh
      00036A 5B 03            [ 2]  556 addw	sp, #3
      00036C 90 AE 00 03      [ 2]  557 ldw	y, #0x0003
      000370 9D               [ 1]  558 nop
      000371 9D               [ 1]  559 nop
      000372                        560 00101$:
      000372 93               [ 1]  561 ldw	x, y
      000373 5A               [ 2]  562 decw	x
      000374 90 93            [ 1]  563 ldw	y, x
      000376 5D               [ 2]  564 tnzw	x
      000377 27 03            [ 1]  565 jreq	00178$
      000379 CCr03r72         [ 2]  566 jp	00101$
      00037C                        567 00178$:
      00037C 9D               [ 1]  568 nop
      00037D 4B 40            [ 1]  569 push	#0x40
      00037F 4B 0F            [ 1]  570 push	#0x0f
      000381 4B 50            [ 1]  571 push	#0x50
      000383 CDr00r00         [ 4]  572 call	_GPIO_WriteHigh
      000386 5B 03            [ 2]  573 addw	sp, #3
      000388 90 AE 00 03      [ 2]  574 ldw	y, #0x0003
      00038C 9D               [ 1]  575 nop
      00038D 9D               [ 1]  576 nop
      00038E                        577 00106$:
      00038E 93               [ 1]  578 ldw	x, y
      00038F 5A               [ 2]  579 decw	x
      000390 90 93            [ 1]  580 ldw	y, x
      000392 5D               [ 2]  581 tnzw	x
      000393 27 03            [ 1]  582 jreq	00179$
      000395 CCr03r8E         [ 2]  583 jp	00106$
      000398                        584 00179$:
      000398 9D               [ 1]  585 nop
      000399 CDr02r40         [ 4]  586 call	_lcd_bus_read
      00039C 4E               [ 1]  587 swap	a
      00039D A4 F0            [ 1]  588 and	a, #0xf0
      00039F 6B 01            [ 1]  589 ld	(0x01, sp), a
      0003A1 4B 40            [ 1]  590 push	#0x40
      0003A3 4B 0F            [ 1]  591 push	#0x0f
      0003A5 4B 50            [ 1]  592 push	#0x50
      0003A7 CDr00r00         [ 4]  593 call	_GPIO_WriteLow
      0003AA 5B 03            [ 2]  594 addw	sp, #3
      0003AC 90 AE 00 03      [ 2]  595 ldw	y, #0x0003
      0003B0 9D               [ 1]  596 nop
      0003B1 9D               [ 1]  597 nop
      0003B2                        598 00111$:
      0003B2 93               [ 1]  599 ldw	x, y
      0003B3 5A               [ 2]  600 decw	x
      0003B4 90 93            [ 1]  601 ldw	y, x
      0003B6 5D               [ 2]  602 tnzw	x
      0003B7 27 03            [ 1]  603 jreq	00180$
      0003B9 CCr03rB2         [ 2]  604 jp	00111$
      0003BC                        605 00180$:
      0003BC 9D               [ 1]  606 nop
      0003BD 4B 40            [ 1]  607 push	#0x40
      0003BF 4B 0F            [ 1]  608 push	#0x0f
      0003C1 4B 50            [ 1]  609 push	#0x50
      0003C3 CDr00r00         [ 4]  610 call	_GPIO_WriteHigh
      0003C6 5B 03            [ 2]  611 addw	sp, #3
      0003C8 90 AE 00 03      [ 2]  612 ldw	y, #0x0003
      0003CC 9D               [ 1]  613 nop
      0003CD 9D               [ 1]  614 nop
      0003CE                        615 00116$:
      0003CE 93               [ 1]  616 ldw	x, y
      0003CF 5A               [ 2]  617 decw	x
      0003D0 90 93            [ 1]  618 ldw	y, x
      0003D2 5D               [ 2]  619 tnzw	x
      0003D3 27 03            [ 1]  620 jreq	00181$
      0003D5 CCr03rCE         [ 2]  621 jp	00116$
      0003D8                        622 00181$:
      0003D8 9D               [ 1]  623 nop
      0003D9 CDr02r40         [ 4]  624 call	_lcd_bus_read
      0003DC 1A 01            [ 1]  625 or	a, (0x01, sp)
      0003DE 6B 01            [ 1]  626 ld	(0x01, sp), a
      0003E0 4B 40            [ 1]  627 push	#0x40
      0003E2 4B 0F            [ 1]  628 push	#0x0f
      0003E4 4B 50            [ 1]  629 push	#0x50
      0003E6 CDr00r00         [ 4]  630 call	_GPIO_WriteLow
      0003E9 5B 03            [ 2]  631 addw	sp, #3
      0003EB 90 AE 00 03      [ 2]  632 ldw	y, #0x0003
      0003EF 9D               [ 1]  633 nop
      0003F0 9D               [ 1]  634 nop
      0003F1                        635 00121$:
      0003F1 93               [ 1]  636 ldw	x, y
      0003F2 5A               [ 2]  637 decw	x
      0003F3 90 93            [ 1]  638 ldw	y, x
      0003F5 5D               [ 2]  639 tnzw	x
      0003F6 27 03            [ 1]  640 jreq	00182$
      0003F8 CCr03rF1         [ 2]  641 jp	00121$
      0003FB                        642 00182$:
      0003FB 9D               [ 1]  643 nop
      0003FC 4B 20            [ 1]  644 push	#0x20
      0003FE 4B 0F            [ 1]  645 push	#0x0f
      000400 4B 50            [ 1]  646 push	#0x50
      000402 CDr00r00         [ 4]  647 call	_GPIO_WriteLow
      000405 5B 03            [ 2]  648 addw	sp, #3
      000407 CDr01r4E         [ 4]  649 call	_lcd_bus_outputs
      00040A 7B 01            [ 1]  650 ld	a, (0x01, sp)
      00040C                        651 00126$:
      00040C 5B 01            [ 2]  652 addw	sp, #1
      00040E 81               [ 4]  653 ret
      00040F                        654 _lcd_busy_wait:
      00040F AE 01 F4         [ 2]  655 ldw	x, #0x01f4
      000412                        656 00102$:
      000412 5D               [ 2]  657 tnzw	x
      000413 26 03            [ 1]  658 jrne	00131$
      000415 CCr04r27         [ 2]  659 jp	00114$
      000418                        660 00131$:
      000418 89               [ 2]  661 pushw	x
      000419 CDr03r52         [ 4]  662 call	_lcd_read
      00041C 85               [ 2]  663 popw	x
      00041D 4D               [ 1]  664 tnz	a
      00041E 2B 03            [ 1]  665 jrmi	00132$
      000420 CCr04r27         [ 2]  666 jp	00114$
      000423                        667 00132$:
      000423 5A               [ 2]  668 decw	x
      000424 CCr04r12         [ 2]  669 jp	00102$
      000427                        670 00114$:
      000427 5D               [ 2]  671 tnzw	x
      000428 27 03            [ 1]  672 jreq	00133$
      00042A CCr04r32         [ 2]  673 jp	00106$
      00042D                        674 00133$:
      00042D A6 01            [ 1]  675 ld	a, #0x01
      00042F CCr04r33         [ 2]  676 jp	00108$
      000432                        677 00106$:
      000432 4F               [ 1]  678 clr	a
      000433                        679 00108$:
      000433 81               [ 4]  680 ret
                                    681 .area CODE
                                    682 .area CONST
                                    683 .area INITIALIZER
                                    684 .area CABS (ABS)
